# Les plugins
## Intro
Dans cette partie, vous en apprendrez plus sur les plugins Gatsby et sur la création de composants «de mise en page».

Les plugins Gatsby sont des packages JavaScript permettant d’ajouter des fonctionnalités à un site Gatsby. Gatsby est conçu pour être extensible, ce qui signifie que les plugins peuvent étendre et modifier à peu près tout ce que fait Gatsby.

Les composants de mise en page sont destinés aux sections de votre site que vous souhaitez partager sur plusieurs pages. Par exemple, les sites auront généralement un composant de présentation avec un en-tête et un pied de page partagés. Une barre latérale et / ou un menu de navigation sont des éléments courants à ajouter aux mises en page.

## Utiliser des plugins
Pour une première introduction à l’utilisation des plugins, nous allons installer et implémenter le plugin Gatsby pour Typography.js.

Typography.js est une bibliothèque JavaScript qui génère des styles de base globaux pour la typographie de votre site. 

### Créer un nouveau site Gatsby
Il est préférable de fermer la ou les fenêtres du terminal et les fichiers de projet des parties précédentes du workshop, afin que tout reste clair. Ouvrez ensuite une nouvelle fenêtre de terminal et exécutez les commandes suivantes pour créer un nouveau site Gatsby dans un répertoire appelé workshop-gatsby-partie2, puis accédez à ce nouveau répertoire:
```console
gatsby new workshop-gatsby-partie2 https://github.com/gatsbyjs/gatsby-starter-hello-world
cd workshop-gatsby-partie2
```
### Installer et configurer `gatsby-plugin-typography`
L'utilisation d'un plugin comporte deux étapes principales: Installation et configuration.
1. Installez le package npm `gatsby-plugin-typography`
```console
npm install --save gatsby-plugin-typography react-typography typography typography-theme-fairy-gates
```
2. Editez le fichier `gatsby-config.js` à la racine de votre projet comme suit:
```javascript
module.exports = {
  plugins: [
    {
      resolve: `gatsby-plugin-typography`,
      options: {
        pathToConfigModule: `src/utils/typography`,
      },
    },
  ],
}
```
`gatsby-config.js`est un fichier spécial que Gatsby reconnaîtra automatiquement.
3. Typography.js a besoin d'un fichier de configuration. Créez un nouveau répertoire appelé `utils` dans le répertoire `src`. Ajoutez ensuite un nouveau fichier appelé `typography.js` à `utils` et copiez ce qui suit dans le fichier:
```javascript
import Typography from "typography"
import fairyGateTheme from "typography-theme-fairy-gates"

const typography = new Typography(fairyGateTheme)

export const { scale, rhythm, options } = typography
export default typography
```
4. Lancez le serveur
```console
gatsby develop
```
Une fois que vous avez allez sur le site, si vous inspectez le code HTML généré en faisant F12, vous verrez que le plug-in de typographie a ajouté un élément `<style>` à l'élément `<head>` avec son code CSS généré.

## Faites des changements de contenu et de style
Copiez ce qui suit dans votre fichier `src/pages/index.js` pour que vous puissiez mieux voir l’effet du CSS généré par Typography.js.
```JSX
import React from "react"

export default () => (
  <div>
    <h1>Hi! I'm building a fake Gatsby site as part of a tutorial!</h1>
    <p>
      What do I like to do? Lots of course but definitely enjoy building
      websites.
    </p>
  </div>
)
```
